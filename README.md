# GrandPaQuiz_bot (Telegram, Render-ready)

–°–µ–º–µ–π–Ω–∞—è –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞ –∫–æ –î–Ω—é –†–æ–∂–¥–µ–Ω–∏—è –¥–µ–¥—É—à–∫–∏ üë¥üéÇ

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –û–¥–∏–Ω–æ—á–Ω—ã–µ –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (—á–µ–∫–±–æ–∫—Å—ã)
- –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ: **+1 –±–∞–ª–ª –∑–∞ –∫–∞–∂–¥—ã–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç** (–≤ multi-–≤–æ–ø—Ä–æ—Å–∞—Ö ‚Äî –¥–æ —á–∏—Å–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö)
- –õ–∏—á–Ω—ã–π –∏—Ç–æ–≥ + –æ–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥ (`/leaders`), –ø–æ–∫–∞–∑ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ `results.json`
- –ù–∞ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±–Ω—É–ª—è—é—Ç—Å—è (—Å–≤–µ–∂–∏–π —Ç—É—Ä–Ω–∏—Ä)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Render ‚Äî Background Worker)
1. –°–æ–∑–¥–∞–π—Ç–µ **Background Worker** –Ω–∞ Render (Deploy from ZIP).
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∞—Ä—Ö–∏–≤ –ø—Ä–æ–µ–∫—Ç–∞.
3. –í **Environment Variables** –¥–æ–±–∞–≤—å—Ç–µ:
   - `BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–∏–∑_BotFather`
   - (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `LEADERS_TOP_N=10`
4. Render —Å–∞–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –±–æ—Ç–∞.

> –ü–æ—á–µ–º—É Background Worker? –î–ª—è long polling –Ω–µ –Ω—É–∂–µ–Ω –≤–µ–±-–ø–æ—Ä—Ç. –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Web Service ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–±—Ö—É–∫–∏ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ).

## –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
```bash
pip install -r requirements.txt
export BOT_TOKEN=XXX:YYYY
python main.py
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞
- `main.py` ‚Äî –ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞ (aiogram 3.x)
- `questions.json` ‚Äî –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã
- `results.json` ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- `requirements.txt` ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `Procfile` ‚Äî `worker: bash start.sh` –¥–ª—è Render
- `start.sh` ‚Äî –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
- `.env.example` ‚Äî –ø—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –§–æ—Ä–º–∞—Ç `questions.json`
```json
[
  {
    "type": "single",            // –∏–ª–∏ "multi"
    "question": "–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞",
    "options": ["A", "B", "C", "D"],
    "answer_index": 2            // –¥–ª—è single ‚Äî —á–∏—Å–ª–æ, –¥–ª—è multi ‚Äî —Å–ø–∏—Å–æ–∫ –∏–Ω–¥–µ–∫—Å–æ–≤
  }
]
```

## –ö–æ–º–∞–Ω–¥—ã
- `/start` ‚Äî –Ω–∞—á–∞—Ç—å –≤–∏–∫—Ç–æ—Ä–∏–Ω—É
- `/leaders` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥
- `/reset_me` ‚Äî —Å–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–•–æ—Ä–æ—à–µ–≥–æ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞ –∏ —Ç—ë–ø–ª—ã—Ö —Å–µ–º–µ–π–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤! üéâ
